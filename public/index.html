<!DOCTYPE html>
<html>
<head>
  <title>Node Simple Starter</title>
</head>
<body>
  <h1>
    Hello World!
  </h1>

  <div>
    <input type="button" id="callAPI" value="Click Me">
    <div id="result"></div>
  </div>

<script type="text/javascript">
  document.getElementById('callAPI').addEventListener('click', function (evt) {
    var httpRequest = new XMLHttpRequest();
    httpRequest.open('GET', '/api/random', true);
    httpRequest.send(null);
    httpRequest.onreadystatechange = function (data) {
      try {
        var response = JSON.parse(httpRequest.responseText);
        document.getElementById('result').textContent = 'The server responded with: ' + response.message;
      } catch (e) {
        document.getElementById('result').textContent = 'Server returned bad JSON';
      }
    }
  });
</script>
</body>
</html>